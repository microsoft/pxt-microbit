es/timer -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/libraries/util -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/libraries/fds -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/libraries/fstorage -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/libraries/experimental_section_vars -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/softdevice/common/softdevice_handler -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/softdevice/s130/headers -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/toolchain -I/src/yotta_modules/mbed-classic/targets -I/src/yotta_modules/mbed-classic/targets/cmsis/TARGET_NORDIC -I/src/yotta_modules/mbed-classic/targets/cmsis/TARGET_NORDIC/TARGET_MCU_NRF51822 -I/src/yotta_modules/mbed-classic/targets/cmsis/TARGET_NORDIC/TARGET_MCU_NRF51822/TOOLCHAIN_GCC_ARM -I/src/yotta_modules/mbed-classic/targets/cmsis/TARGET_NORDIC/TARGET_MCU_NRF51822/TOOLCHAIN_GCC_ARM/TARGET_MCU_NRF51_16K_S110 -I/src/yotta_modules/mbed-classic/targets/hal/TARGET_NORDIC -I/src/yotta_modules/mbed-classic/targets/hal/TARGET_NORDIC/TARGET_MCU_NRF51822 -I/src/yotta_modules/mbed-classic/targets/hal/TARGET_NORDIC/TARGET_MCU_NRF51822/Lib -I/src/yotta_modules/mbed-classic/targets/hal/TARGET_NORDIC/TARGET_MCU_NRF51822/Lib/nordic_sdk -I/src/yotta_modules/mbed-classic/targets/hal/TARGET_NORDIC/TARGET_MCU_NRF51822/Lib/nordic_sdk/components -I/src/yotta_modules/mbed-classic/targets/hal/TARGET_NORDIC/TARGET_MCU_NRF51822/Lib/nordic_sdk/components/libraries -I/src/yotta_modules/mbed-classic/targets/hal/TARGET_NORDIC/TARGET_MCU_NRF51822/Lib/nordic_sdk/components/libraries/crc16 -I/src/yotta_modules/mbed-classic/targets/hal/TARGET_NORDIC/TARGET_MCU_NRF51822/Lib/nordic_sdk/components/libraries/scheduler -I/src/yotta_modules/mbed-classic/targets/hal/TARGET_NORDIC/TARGET_MCU_NRF51822/Lib/nordic_sdk/components/libraries/util -I/src/yotta_modules/mbed-classic/targets/hal/TARGET_NORDIC/TARGET_MCU_NRF51822/Lib/s110_nrf51822_8_0_0 -I/src/yotta_modules/mbed-classic/targets/hal/TARGET_NORDIC/TARGET_MCU_NRF51822/Lib/s130_nrf51822_1_0_0 -I/src/yotta_modules/mbed-classic/targets/hal/TARGET_NORDIC/TARGET_MCU_NRF51822/TARGET_NRF51_MICROBIT -I/src/source -fno-exceptions -fno-unwind-tables -ffunction-sections -fdata-sections -Wall -Wextra -fno-rtti -fno-threadsafe-statics -mcpu=cortex-m0 -mthumb -D__thumb2__ -std=c++11 -fwrapv -Os -g -gdwarf-3 -DNDEBUG   -DTOOLCHAIN_GCC -DTOOLCHAIN_GCC_ARM -DMBED_OPERATORS -DNRF51 -DTARGET_NORDIC -DTARGET_M0 -D__MBED__=1 -DMCU_NORDIC_16K -DTARGET_NRF51_MICROBIT -DTARGET_MCU_NORDIC_16K -DTARGET_MCU_NRF51_16K_S110  -DTARGET_NRF_LFCLK_RC -DTARGET_MCU_NORDIC_16K -D__CORTEX_M0 -DARM_MATH_CM0 -include "/src/build/bbc-microbit-classic-gcc/yotta_config.h" -MMD -MT source/CMakeFiles/pxt-microbit-app.dir/src/source/st7735/image.cpp.o -MF source/CMakeFiles/pxt-microbit-app.dir/src/source/st7735/image.cpp.o.d -o source/CMakeFiles/pxt-microbit-app.dir/src/source/st7735/image.cpp.o -c /src/source/st7735/image.cpp
/src/source/st7735/image.cpp:8:2: error: #error "Invalid IMAGE_BITS"
 #error "Invalid IMAGE_BITS"
  ^
In file included from /src/source/pxt.h:8:0,
                 from /src/source/st7735/image.cpp:1:
/src/source/st7735/image.cpp:16:12: error: 'RefSImage' was not declared in this scope
 PXT_VTABLE(RefSImage, ValType::Object)
            ^
/src/source/pxtbase.h:1187:33: note: in definition of macro 'DEF_VTABLE'
     const VTable name = {sizeof(tp), valtype, VTABLE_MAGIC, 0, BuiltInType::tp,                  
  \
                                 ^
/src/source/st7735/image.cpp:16:1: note: in expansion of macro 'PXT_VTABLE'
 PXT_VTABLE(RefSImage, ValType::Object)
 ^
/src/source/pxtbase.h:1187:64: error: 'RefSImage' is not a member of 'pxt::BuiltInType'
     const VTable name = {sizeof(tp), valtype, VTABLE_MAGIC, 0, BuiltInType::tp,                  
  \
                                                                ^
/src/source/pxtbase.h:1195:5: note: in expansion of macro 'DEF_VTABLE'
     DEF_VTABLE(classname##_vtable, classname, valtp, (void *)&classname::destroy,                
  \
     ^
/src/source/st7735/image.cpp:16:1: note: in expansion of macro 'PXT_VTABLE'
 PXT_VTABLE(RefSImage, ValType::Object)
 ^
/src/source/st7735/image.cpp:16:12: error: 'RefSImage' has not been declared
 PXT_VTABLE(RefSImage, ValType::Object)
            ^
/src/source/pxtbase.h:1188:48: note: in definition of macro 'DEF_VTABLE'
                          0,          0,       {__VA_ARGS__}};
                                                ^
/src/source/st7735/image.cpp:16:1: note: in expansion of macro 'PXT_VTABLE'
 PXT_VTABLE(RefSImage, ValType::Object)
 ^
/src/source/st7735/image.cpp:16:12: error: 'RefSImage' has not been declared
 PXT_VTABLE(RefSImage, ValType::Object)
            ^
/src/source/pxtbase.h:1188:48: note: in definition of macro 'DEF_VTABLE'
                          0,          0,       {__VA_ARGS__}};
                                                ^
/src/source/st7735/image.cpp:16:1: note: in expansion of macro 'PXT_VTABLE'
 PXT_VTABLE(RefSImage, ValType::Object)
 ^
/src/source/st7735/image.cpp:16:12: error: 'RefSImage' has not been declared
 PXT_VTABLE(RefSImage, ValType::Object)
            ^
/src/source/pxtbase.h:1188:48: note: in definition of macro 'DEF_VTABLE'
                          0,          0,       {__VA_ARGS__}};
                                                ^
/src/source/st7735/image.cpp:16:1: note: in expansion of macro 'PXT_VTABLE'
 PXT_VTABLE(RefSImage, ValType::Object)
 ^
/src/source/st7735/image.cpp:16:12: error: 'RefSImage' has not been declared
 PXT_VTABLE(RefSImage, ValType::Object)
            ^
/src/source/pxtbase.h:1188:48: note: in definition of macro 'DEF_VTABLE'
                          0,          0,       {__VA_ARGS__}};
                                                ^
/src/source/st7735/image.cpp:16:1: note: in expansion of macro 'PXT_VTABLE'
 PXT_VTABLE(RefSImage, ValType::Object)
 ^
/src/source/st7735/image.cpp:18:6: error: 'RefSImage' has not been declared
 void RefSImage::destroy(RefSImage *t) {}
      ^
/src/source/st7735/image.cpp:18:25: error: variable or field 'destroy' declared void
 void RefSImage::destroy(RefSImage *t) {}
                         ^
/src/source/st7735/image.cpp:18:25: error: 'RefSImage' was not declared in this scope
/src/source/st7735/image.cpp:18:36: error: 't' was not declared in this scope
 void RefSImage::destroy(RefSImage *t) {}
                                    ^
/src/source/st7735/image.cpp:20:6: error: 'RefSImage' has not been declared
 void RefSImage::print(RefSImage *t) {
      ^
/src/source/st7735/image.cpp:20:23: error: variable or field 'print' declared void
 void RefSImage::print(RefSImage *t) {
                       ^
/src/source/st7735/image.cpp:20:23: error: 'RefSImage' was not declared in this scope
/src/source/st7735/image.cpp:20:34: error: 't' was not declared in this scope
 void RefSImage::print(RefSImage *t) {
                                  ^
/src/source/st7735/image.cpp:1549:1: error: expected '}' at end of input
 }
 ^
In file included from /src/source/pxt.h:8:0,
                 from /src/source/st7735/image.cpp:1:
/src/source/st7735/image.cpp:16:12: warning: 'pxt::RefSImage_vtable' defined but not used [-Wunused-variable]
 PXT_VTABLE(RefSImage, ValType::Object)
            ^
/src/source/pxtbase.h:1187:18: note: in definition of macro 'DEF_VTABLE'
     const VTable name = {sizeof(tp), valtype, VTABLE_MAGIC, 0, BuiltInType::tp,                  
  \
                  ^
/src/source/st7735/image.cpp:16:1: note: in expansion of macro 'PXT_VTABLE'
 PXT_VTABLE(RefSImage, ValType::Object)
 ^
[3/6] Building CXX object source/CMakeFiles/pxt-microbit-app.dir/src/source/st7735/jddisplay.cpp.o
FAILED: source/CMakeFiles/pxt-microbit-app.dir/src/source/st7735/jddisplay.cpp.o
/opt/gcc-arm-none-eabi-5_4-2016q3/bin/arm-none-eabi-g++ -DYOTTA_MODULE_NAME=pxt-microbit-app -Dpxt_microbit_app_EXPORTS -Igenerated/include -I/src -I/src/yotta_modules/microbit -I/src/yotta_modules/microbit-dal -I/src/yotta_modules/mbed-classic -I/src/yotta_modules/ble -I/src/yotta_modules/ble-nrf51822 -I/src/yotta_modules/nrf51-sdk -I/src/yotta_modules/microbit/inc -I/src/yotta_modules/microbit-dal/inc/core -I/src/yotta_modules/microbit-dal/inc/types -I/src/yotta_modules/microbit-dal/inc/drivers -I/src/yotta_modules/microbit-dal/inc/bluetooth -I/src/yotta_modules/microbit-dal/inc/platform -I/src/yotta_modules/mbed-classic/api -I/src/yotta_modules/mbed-classic/hal -I/src/yotta_modules/mbed-classic/targets/hal -I/src/yotta_modules/mbed-classic/targets/cmsis -I/src/yotta_modules/ble-nrf51822/source/btle -I/src/yotta_modules/ble-nrf51822/source/btle/custom -I/src/yotta_modules/ble-nrf51822/source/common -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/ble/ble_radio_notification -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/ble/ble_services/ble_dfu -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/ble/common -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/ble/device_manager -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/ble/device_manager/config -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/ble/peer_manager -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/device -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/drivers_nrf/ble_flash -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/drivers_nrf/delay -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/drivers_nrf/hal -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/drivers_nrf/pstorage -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/drivers_nrf/pstorage/config -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/libraries/bootloader_dfu -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/libraries/bootloader_dfu/hci_transport -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/libraries/crc16 -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/libraries/hci -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/libraries/scheduler -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/libraries/timer -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/libraries/util -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/libraries/fds -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/libraries/fstorage -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/libraries/experimental_section_vars -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/softdevice/common/softdevice_handler -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/softdevice/s130/headers -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/toolchain -I/src/yotta_modules/mbed-classic/targets -I/src/yotta_modules/mbed-classic/targets/cmsis/TARGET_NORDIC -I/src/yotta_modules/mbed-classic/targets/cmsis/TARGET_NORDIC/TARGET_MCU_NRF51822 -I/src/yotta_modules/mbed-classic/targets/cmsis/TARGET_NORDIC/TARGET_MCU_NRF51822/TOOLCHAIN_GCC_ARM -I/src/yotta_modules/mbed-classic/targets/cmsis/TARGET_NORDIC/TARGET_MCU_NRF51822/TOOLCHAIN_GCC_ARM/TARGET_MCU_NRF51_16K_S110 -I/src/yotta_modules/mbed-classic/targets/hal/TARGET_NORDIC -I/src/yotta_modules/mbed-classic/targets/hal/TARGET_NORDIC/TARGET_MCU_NRF51822 -I/src/yotta_modules/mbed-classic/targets/hal/TARGET_NORDIC/TARGET_MCU_NRF51822/Lib -I/src/yotta_modules/mbed-classic/targets/hal/TARGET_NORDIC/TARGET_MCU_NRF51822/Lib/nordic_sdk -I/src/yotta_modules/mbed-classic/targets/hal/TARGET_NORDIC/TARGET_MCU_NRF51822/Lib/nordic_sdk/components -I/src/yotta_modules/mbed-classic/targets/hal/TARGET_NORDIC/TARGET_MCU_NRF51822/Lib/nordic_sdk/components/libraries -I/src/yotta_modules/mbed-classic/targets/hal/TARGET_NORDIC/TARGET_MCU_NRF51822/Lib/nordic_sdk/components/libraries/crc16 -I/src/yotta_modules/mbed-classic/targets/hal/TARGET_NORDIC/TARGET_MCU_NRF51822/Lib/nordic_sdk/components/libraries/scheduler -I/src/yotta_modules/mbed-classic/targets/hal/TARGET_NORDIC/TARGET_MCU_NRF51822/Lib/nordic_sdk/components/libraries/util -I/src/yotta_modules/mbed-classic/targets/hal/TARGET_NORDIC/TARGET_MCU_NRF51822/Lib/s110_nrf51822_8_0_0 -I/src/yotta_modules/mbed-classic/targets/hal/TARGET_NORDIC/TARGET_MCU_NRF51822/Lib/s130_nrf51822_1_0_0 -I/src/yotta_modules/mbed-classic/targets/hal/TARGET_NORDIC/TARGET_MCU_NRF51822/TARGET_NRF51_MICROBIT -I/src/source -fno-exceptions -fno-unwind-tables -ffunction-sections -fdata-sections -Wall -Wextra -fno-rtti -fno-threadsafe-statics -mcpu=cortex-m0 -mthumb -D__thumb2__ -std=c++11 -fwrapv -Os -g -gdwarf-3 -DNDEBUG   -DTOOLCHAIN_GCC -DTOOLCHAIN_GCC_ARM -DMBED_OPERATORS -DNRF51 -DTARGET_NORDIC -DTARGET_M0 -D__MBED__=1 -DMCU_NORDIC_16K -DTARGET_NRF51_MICROBIT -DTARGET_MCU_NORDIC_16K -DTARGET_MCU_NRF51_16K_S110  -DTARGET_NRF_LFCLK_RC -DTARGET_MCU_NORDIC_16K -D__CORTEX_M0 -DARM_MATH_CM0 -include "/src/build/bbc-microbit-classic-gcc/yotta_config.h" -MMD -MT source/CMakeFiles/pxt-microbit-app.dir/src/source/st7735/jddisplay.cpp.o -MF source/CMakeFiles/pxt-microbit-app.dir/src/source/st7735/jddisplay.cpp.o.d -o source/CMakeFiles/pxt-microbit-app.dir/src/source/st7735/jddisplay.cpp.o -c /src/source/st7735/jddisplay.cpp
In file included from /src/source/st7735/jddisplay.cpp:2:0:
/src/source/st7735/jddisplay.h:15:5: error: 'Pin' does not name a type
     Pin *cs;
     ^
/src/source/st7735/jddisplay.h:16:5: error: 'Pin' does not name a type
     Pin *flow;
     ^
/src/source/st7735/jddisplay.h:48:25: error: 'Pin' has not been declared
     JDDisplay(SPI *spi, Pin *cs, Pin *flow);
                         ^
/src/source/st7735/jddisplay.h:48:34: error: 'Pin' has not been declared
     JDDisplay(SPI *spi, Pin *cs, Pin *flow);
                                  ^
/src/source/st7735/jddisplay.cpp:75:32: error: 'Pin' has not been declared
 JDDisplay::JDDisplay(SPI *spi, Pin *cs, Pin *flow) : spi(spi), cs(cs), flow(flow) {
                                ^
/src/source/st7735/jddisplay.cpp:75:41: error: 'Pin' has not been declared
 JDDisplay::JDDisplay(SPI *spi, Pin *cs, Pin *flow) : spi(spi), cs(cs), flow(flow) {
                                         ^
/src/source/st7735/jddisplay.cpp: In constructor 'pxt::JDDisplay::JDDisplay(mbed::SPI*, int*, int*)':
/src/source/st7735/jddisplay.cpp:75:64: error: class 'pxt::JDDisplay' does not have any field named 'cs'
 JDDisplay::JDDisplay(SPI *spi, Pin *cs, Pin *flow) : spi(spi), cs(cs), flow(flow) {
                                                                ^
/src/source/st7735/jddisplay.cpp:75:72: error: class 'pxt::JDDisplay' does not have any field named 'flow'
 JDDisplay::JDDisplay(SPI *spi, Pin *cs, Pin *flow) : spi(spi), cs(cs), flow(flow) {
                                                                        ^
/src/source/st7735/jddisplay.cpp:89:41: error: 'DEVICE_ID_DISPLAY' was not declared in this scope 
     EventModel::defaultEventBus->listen(DEVICE_ID_DISPLAY, 4243, this, &JDDisplay::sendDone);    
                                         ^
/src/source/st7735/jddisplay.cpp:91:11: error: request for member 'getDigitalValue' in '* flow', which is of non-class type 'int'
     flow->getDigitalValue(PullMode::Down);
           ^
/src/source/st7735/jddisplay.cpp:91:27: error: 'PullMode' has not been declared
     flow->getDigitalValue(PullMode::Down);
                           ^
/src/source/st7735/jddisplay.cpp:92:47: error: request for member 'id' in '* flow', which is of non-class type 'int'
     EventModel::defaultEventBus->listen(flow->id, DEVICE_PIN_EVENT_ON_EDGE, this,
                                               ^
/src/source/st7735/jddisplay.cpp:92:51: error: 'DEVICE_PIN_EVENT_ON_EDGE' was not declared in this scope
     EventModel::defaultEventBus->listen(flow->id, DEVICE_PIN_EVENT_ON_EDGE, this,
                                                   ^
/src/source/st7735/jddisplay.cpp:94:11: error: request for member 'eventOn' in '* flow', which is of non-class type 'int'
     flow->eventOn(DEVICE_PIN_EVT_RISE);
           ^
/src/source/st7735/jddisplay.cpp:94:19: error: 'DEVICE_PIN_EVT_RISE' was not declared in this scope
     flow->eventOn(DEVICE_PIN_EVT_RISE);
                   ^
/src/source/st7735/jddisplay.cpp: In member function 'void pxt::JDDisplay::waitForSendDone()':    
/src/source/st7735/jddisplay.cpp:99:30: error: 'DEVICE_ID_DISPLAY' was not declared in this scope 
         fiber_wait_for_event(DEVICE_ID_DISPLAY, 4242);
                              ^
/src/source/st7735/jddisplay.cpp: In member function 'void pxt::JDDisplay::sendDone(pxt::Event)': 
/src/source/st7735/jddisplay.cpp:102:26: error: '<anonymous>' has incomplete type
 void JDDisplay::sendDone(Event) {
                          ^
In file included from /src/source/pxt.h:8:0,
                 from /src/source/st7735/jddisplay.cpp:1:
/src/source/pxtbase.h:383:12: note: forward declaration of 'struct pxt::Event'
     struct Event *pending;
            ^
/src/source/st7735/jddisplay.cpp:104:11: error: 'DEVICE_ID_DISPLAY' was not declared in this scope
     Event(DEVICE_ID_DISPLAY, 4242);
           ^
/src/source/st7735/jddisplay.cpp:104:34: error: invalid use of incomplete type 'struct pxt::Event'
     Event(DEVICE_ID_DISPLAY, 4242);
                                  ^
In file included from /src/source/pxt.h:8:0,
                 from /src/source/st7735/jddisplay.cpp:1:
/src/source/pxtbase.h:383:12: note: forward declaration of 'struct pxt::Event'
     struct Event *pending;
            ^
/src/source/st7735/jddisplay.cpp: In member function 'void pxt::JDDisplay::flushSend()':
/src/source/st7735/jddisplay.cpp:115:9: error: 'cs' was not declared in this scope
     if (cs)
         ^
/src/source/st7735/jddisplay.cpp:117:10: error: 'class mbed::SPI' has no member named 'startTransfer'
     spi->startTransfer((uint8_t *)&sendFrame, sizeof(sendFrame), (uint8_t *)&recvFrame,
          ^
/src/source/st7735/jddisplay.cpp: In member function 'void pxt::JDDisplay::onFlowHi(pxt::Event)': 
/src/source/st7735/jddisplay.cpp:127:26: error: '<anonymous>' has incomplete type
 void JDDisplay::onFlowHi(Event) {
                          ^
In file included from /src/source/pxt.h:8:0,
                 from /src/source/st7735/jddisplay.cpp:1:
/src/source/pxtbase.h:383:12: note: forward declaration of 'struct pxt::Event'
     struct Event *pending;
            ^
/src/source/st7735/jddisplay.cpp: In member function 'void pxt::JDDisplay::handleIncoming(jd_packet_t*)':
/src/source/st7735/jddisplay.cpp:160:52: warning: dereferencing type-punned pointer will break strict-aliasing rules [-Wstrict-aliasing]
             soundBufferPending = *(uint32_t *)pkt->data;
                                                    ^
/src/source/st7735/jddisplay.cpp:163:49: warning: dereferencing type-punned pointer will break strict-aliasing rules [-Wstrict-aliasing]
             soundSampleRate = *(uint32_t *)pkt->data >> 10;
                                                 ^
/src/source/st7735/jddisplay.cpp:169:46: warning: dereferencing type-punned pointer will break strict-aliasing rules [-Wstrict-aliasing]
             screenHeight = *(uint16_t *)pkt->data;
                                              ^
/src/source/st7735/jddisplay.cpp:172:45: warning: dereferencing type-punned pointer will break strict-aliasing rules [-Wstrict-aliasing]
             screenWidth = *(uint16_t *)pkt->data;
                                             ^
/src/source/st7735/jddisplay.cpp:208:27: error: 'PXT_INTERNAL_KEY_DOWN' was not declared in this scope
                     Event(PXT_INTERNAL_KEY_DOWN, i);
                           ^
/src/source/st7735/jddisplay.cpp:208:51: error: invalid use of incomplete type 'struct pxt::Event'
                     Event(PXT_INTERNAL_KEY_DOWN, i);
                                                   ^
In file included from /src/source/pxt.h:8:0,
                 from /src/source/st7735/jddisplay.cpp:1:
/src/source/pxtbase.h:383:12: note: forward declaration of 'struct pxt::Event'
     struct Event *pending;
            ^
/src/source/st7735/jddisplay.cpp:210:27: error: 'PXT_INTERNAL_KEY_UP' was not declared in this scope
                     Event(PXT_INTERNAL_KEY_UP, i);
                           ^
/src/source/st7735/jddisplay.cpp:210:49: error: invalid use of incomplete type 'struct pxt::Event'
                     Event(PXT_INTERNAL_KEY_UP, i);
                                                 ^
In file included from /src/source/pxt.h:8:0,
                 from /src/source/st7735/jddisplay.cpp:1:
/src/source/pxtbase.h:383:12: note: forward declaration of 'struct pxt::Event'
     struct Event *pending;
            ^
/src/source/st7735/jddisplay.cpp: In member function 'void pxt::JDDisplay::step()':
/src/source/st7735/jddisplay.cpp:221:9: error: 'cs' was not declared in this scope
     if (cs)
         ^
/src/source/st7735/jddisplay.cpp:224:24: error: 'target_disable_irq' was not declared in this scope
     target_disable_irq();
                        ^
/src/source/st7735/jddisplay.cpp:225:10: error: 'flow' was not declared in this scope
     if (!flow->getDigitalValue()) {
          ^
/src/source/st7735/jddisplay.cpp:227:27: error: 'target_enable_irq' was not declared in this scope
         target_enable_irq();
                           ^
/src/source/st7735/jddisplay.cpp:232:23: error: 'target_enable_irq' was not declared in this scope
     target_enable_irq();
                       ^
/src/source/st7735/jddisplay.cpp:321:15: error: 'DEVICE_ID_DISPLAY' was not declared in this scope
         Event(DEVICE_ID_DISPLAY, 4243);
               ^
/src/source/st7735/jddisplay.cpp:321:38: error: invalid use of incomplete type 'struct pxt::Event'
         Event(DEVICE_ID_DISPLAY, 4243);
                                      ^
In file included from /src/source/pxt.h:8:0,
                 from /src/source/st7735/jddisplay.cpp:1:
/src/source/pxtbase.h:383:12: note: forward declaration of 'struct pxt::Event'
     struct Event *pending;
            ^
[4/6] Building CXX object source/CMakeFiles/pxt-microbit-app.dir/src/source/pointers.cpp.o
FAILED: source/CMakeFiles/pxt-microbit-app.dir/src/source/pointers.cpp.o
/opt/gcc-arm-none-eabi-5_4-2016q3/bin/arm-none-eabi-g++ -DYOTTA_MODULE_NAME=pxt-microbit-app -Dpxt_microbit_app_EXPORTS -Igenerated/include -I/src -I/src/yotta_modules/microbit -I/src/yotta_modules/microbit-dal -I/src/yotta_modules/mbed-classic -I/src/yotta_modules/ble -I/src/yotta_modules/ble-nrf51822 -I/src/yotta_modules/nrf51-sdk -I/src/yotta_modules/microbit/inc -I/src/yotta_modules/microbit-dal/inc/core -I/src/yotta_modules/microbit-dal/inc/types -I/src/yotta_modules/microbit-dal/inc/drivers -I/src/yotta_modules/microbit-dal/inc/bluetooth -I/src/yotta_modules/microbit-dal/inc/platform -I/src/yotta_modules/mbed-classic/api -I/src/yotta_modules/mbed-classic/hal -I/src/yotta_modules/mbed-classic/targets/hal -I/src/yotta_modules/mbed-classic/targets/cmsis -I/src/yotta_modules/ble-nrf51822/source/btle -I/src/yotta_modules/ble-nrf51822/source/btle/custom -I/src/yotta_modules/ble-nrf51822/source/common -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/ble/ble_radio_notification -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/ble/ble_services/ble_dfu -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/ble/common -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/ble/device_manager -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/ble/device_manager/config -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/ble/peer_manager -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/device -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/drivers_nrf/ble_flash -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/drivers_nrf/delay -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/drivers_nrf/hal -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/drivers_nrf/pstorage -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/drivers_nrf/pstorage/config -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/libraries/bootloader_dfu -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/libraries/bootloader_dfu/hci_transport -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/libraries/crc16 -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/libraries/hci -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/libraries/scheduler -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/libraries/timer -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/libraries/util -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/libraries/fds -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/libraries/fstorage -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/libraries/experimental_section_vars -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/softdevice/common/softdevice_handler -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/softdevice/s130/headers -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/toolchain -I/src/yotta_modules/mbed-classic/targets -I/src/yotta_modules/mbed-classic/targets/cmsis/TARGET_NORDIC -I/src/yotta_modules/mbed-classic/targets/cmsis/TARGET_NORDIC/TARGET_MCU_NRF51822 -I/src/yotta_modules/mbed-classic/targets/cmsis/TARGET_NORDIC/TARGET_MCU_NRF51822/TOOLCHAIN_GCC_ARM -I/src/yotta_modules/mbed-classic/targets/cmsis/TARGET_NORDIC/TARGET_MCU_NRF51822/TOOLCHAIN_GCC_ARM/TARGET_MCU_NRF51_16K_S110 -I/src/yotta_modules/mbed-classic/targets/hal/TARGET_NORDIC -I/src/yotta_modules/mbed-classic/targets/hal/TARGET_NORDIC/TARGET_MCU_NRF51822 -I/src/yotta_modules/mbed-classic/targets/hal/TARGET_NORDIC/TARGET_MCU_NRF51822/Lib -I/src/yotta_modules/mbed-classic/targets/hal/TARGET_NORDIC/TARGET_MCU_NRF51822/Lib/nordic_sdk -I/src/yotta_modules/mbed-classic/targets/hal/TARGET_NORDIC/TARGET_MCU_NRF51822/Lib/nordic_sdk/components -I/src/yotta_modules/mbed-classic/targets/hal/TARGET_NORDIC/TARGET_MCU_NRF51822/Lib/nordic_sdk/components/libraries -I/src/yotta_modules/mbed-classic/targets/hal/TARGET_NORDIC/TARGET_MCU_NRF51822/Lib/nordic_sdk/components/libraries/crc16 -I/src/yotta_modules/mbed-classic/targets/hal/TARGET_NORDIC/TARGET_MCU_NRF51822/Lib/nordic_sdk/components/libraries/scheduler -I/src/yotta_modules/mbed-classic/targets/hal/TARGET_NORDIC/TARGET_MCU_NRF51822/Lib/nordic_sdk/components/libraries/util -I/src/yotta_modules/mbed-classic/targets/hal/TARGET_NORDIC/TARGET_MCU_NRF51822/Lib/s110_nrf51822_8_0_0 -I/src/yotta_modules/mbed-classic/targets/hal/TARGET_NORDIC/TARGET_MCU_NRF51822/Lib/s130_nrf51822_1_0_0 -I/src/yotta_modules/mbed-classic/targets/hal/TARGET_NORDIC/TARGET_MCU_NRF51822/TARGET_NRF51_MICROBIT -I/src/source -fno-exceptions -fno-unwind-tables -ffunction-sections -fdata-sections -Wall -Wextra -fno-rtti -fno-threadsafe-statics -mcpu=cortex-m0 -mthumb -D__thumb2__ -std=c++11 -fwrapv -Os -g -gdwarf-3 -DNDEBUG   -DTOOLCHAIN_GCC -DTOOLCHAIN_GCC_ARM -DMBED_OPERATORS -DNRF51 -DTARGET_NORDIC -DTARGET_M0 -D__MBED__=1 -DMCU_NORDIC_16K -DTARGET_NRF51_MICROBIT -DTARGET_MCU_NORDIC_16K -DTARGET_MCU_NRF51_16K_S110  -DTARGET_NRF_LFCLK_RC -DTARGET_MCU_NORDIC_16K -D__CORTEX_M0 -DARM_MATH_CM0 -include "/src/build/bbc-microbit-classic-gcc/yotta_config.h" -MMD -MT source/CMakeFiles/pxt-microbit-app.dir/src/source/pointers.cpp.o -MF source/CMakeFiles/pxt-microbit-app.dir/src/source/pointers.cpp.o.d -o source/CMakeFiles/pxt-microbit-app.dir/src/source/pointers.cpp.o -c /src/source/pointers.cpp
In file included from /src/source/pointers.cpp:11:0:
/src/source/st7735/jddisplay.h:15:5: error: 'Pin' does not name a type
     Pin *cs;
     ^
/src/source/st7735/jddisplay.h:16:5: error: 'Pin' does not name a type
     Pin *flow;
     ^
/src/source/st7735/jddisplay.h:48:25: error: 'Pin' has not been declared
     JDDisplay(SPI *spi, Pin *cs, Pin *flow);
                         ^
/src/source/st7735/jddisplay.h:48:34: error: 'Pin' has not been declared
     JDDisplay(SPI *spi, Pin *cs, Pin *flow);
                                  ^
/src/source/pointers.cpp:371:32: error: variable or field 'updateScreenStatusBar' declared void   
     void updateScreenStatusBar(SImage_ img);
                                ^
/src/source/pointers.cpp:371:32: error: 'SImage_' was not declared in this scope
/src/source/pointers.cpp:372:23: error: variable or field 'updateScreen' declared void
     void updateScreen(SImage_ img);
                       ^
/src/source/pointers.cpp:372:23: error: 'SImage_' was not declared in this scope
/src/source/pointers.cpp:376:15: error: 'SImage_' was not declared in this scope
     int width(SImage_ img);
               ^
/src/source/pointers.cpp:377:16: error: 'SImage_' was not declared in this scope
     int height(SImage_ img);
                ^
/src/source/pointers.cpp:378:17: error: 'SImage_' was not declared in this scope
     bool isMono(SImage_ img);
                 ^
/src/source/pointers.cpp:379:19: error: 'SImage_' was not declared in this scope
     bool isStatic(SImage_ img);
                   ^
/src/source/pointers.cpp:380:19: error: 'SImage_' was not declared in this scope
     bool revision(SImage_ img);
                   ^
/src/source/pointers.cpp:381:19: error: variable or field 'copyFrom' declared void
     void copyFrom(SImage_ img, SImage_ from);
                   ^
/src/source/pointers.cpp:381:19: error: 'SImage_' was not declared in this scope
/src/source/pointers.cpp:381:32: error: 'SImage_' was not declared in this scope
     void copyFrom(SImage_ img, SImage_ from);
                                ^
/src/source/pointers.cpp:382:19: error: variable or field 'setPixel' declared void
     void setPixel(SImage_ img, int x, int y, int c);
                   ^
/src/source/pointers.cpp:382:19: error: 'SImage_' was not declared in this scope
/src/source/pointers.cpp:382:32: error: expected primary-expression before 'int'
     void setPixel(SImage_ img, int x, int y, int c);
                                ^
/src/source/pointers.cpp:382:39: error: expected primary-expression before 'int'
     void setPixel(SImage_ img, int x, int y, int c);
                                       ^
/src/source/pointers.cpp:382:46: error: expected primary-expression before 'int'
     void setPixel(SImage_ img, int x, int y, int c);
                                              ^
/src/source/pointers.cpp:383:18: error: 'SImage_' was not declared in this scope
     int getPixel(SImage_ img, int x, int y);
                  ^
/src/source/pointers.cpp:383:31: error: expected primary-expression before 'int'
     int getPixel(SImage_ img, int x, int y);
                               ^
/src/source/pointers.cpp:383:38: error: expected primary-expression before 'int'
     int getPixel(SImage_ img, int x, int y);
                                      ^
/src/source/pointers.cpp:383:43: error: expression list treated as compound expression in initializer [-fpermissive]
     int getPixel(SImage_ img, int x, int y);
                                           ^
/src/source/pointers.cpp:384:15: error: variable or field 'fill' declared void
     void fill(SImage_ img, int c);
               ^
/src/source/pointers.cpp:384:15: error: 'SImage_' was not declared in this scope
/src/source/pointers.cpp:384:28: error: expected primary-expression before 'int'
     void fill(SImage_ img, int c);
                            ^
/src/source/pointers.cpp:385:18: error: variable or field 'getRows' declared void
     void getRows(SImage_ img, int x, Buffer dst);
                  ^
/src/source/pointers.cpp:385:18: error: 'SImage_' was not declared in this scope
/src/source/pointers.cpp:385:31: error: expected primary-expression before 'int'
     void getRows(SImage_ img, int x, Buffer dst);
                               ^
/src/source/pointers.cpp:385:45: error: expected primary-expression before 'dst'
     void getRows(SImage_ img, int x, Buffer dst);
                                             ^
/src/source/pointers.cpp:386:18: error: variable or field 'setRows' declared void
     void setRows(SImage_ img, int x, Buffer src);
                  ^
/src/source/pointers.cpp:386:18: error: 'SImage_' was not declared in this scope
/src/source/pointers.cpp:386:31: error: expected primary-expression before 'int'
     void setRows(SImage_ img, int x, Buffer src);
                               ^
/src/source/pointers.cpp:386:45: error: expected primary-expression before 'src'
     void setRows(SImage_ img, int x, Buffer src);
                                             ^
/src/source/pointers.cpp:387:20: error: variable or field '_fillRect' declared void
     void _fillRect(SImage_ img, int xy, int wh, int c);
                    ^
/src/source/pointers.cpp:387:20: error: 'SImage_' was not declared in this scope
/src/source/pointers.cpp:387:33: error: expected primary-expression before 'int'
     void _fillRect(SImage_ img, int xy, int wh, int c);
                                 ^
/src/source/pointers.cpp:387:41: error: expected primary-expression before 'int'
     void _fillRect(SImage_ img, int xy, int wh, int c);
                                         ^
/src/source/pointers.cpp:387:49: error: expected primary-expression before 'int'
     void _fillRect(SImage_ img, int xy, int wh, int c);
                                                 ^
/src/source/pointers.cpp:388:19: error: variable or field '_mapRect' declared void
     void _mapRect(SImage_ img, int xy, int wh, Buffer c);
                   ^
/src/source/pointers.cpp:388:19: error: 'SImage_' was not declared in this scope
/src/source/pointers.cpp:388:32: error: expected primary-expression before 'int'
     void _mapRect(SImage_ img, int xy, int wh, Buffer c);
                                ^
/src/source/pointers.cpp:388:40: error: expected primary-expression before 'int'
     void _mapRect(SImage_ img, int xy, int wh, Buffer c);
                                        ^
/src/source/pointers.cpp:388:55: error: expected primary-expression before 'c'
     void _mapRect(SImage_ img, int xy, int wh, Buffer c);
                                                       ^
/src/source/pointers.cpp:389:17: error: 'SImage_' was not declared in this scope
     bool equals(SImage_ img, SImage_ other);
                 ^
/src/source/pointers.cpp:389:30: error: 'SImage_' was not declared in this scope
     bool equals(SImage_ img, SImage_ other);
                              ^
/src/source/pointers.cpp:389:43: error: expression list treated as compound expression in initializer [-fpermissive]
     bool equals(SImage_ img, SImage_ other);
                                           ^
/src/source/pointers.cpp:390:5: error: 'SImage_' does not name a type
     SImage_ clone(SImage_ img);
     ^
/src/source/pointers.cpp:391:16: error: variable or field 'flipX' declared void
     void flipX(SImage_ img);
                ^
/src/source/pointers.cpp:391:16: error: 'SImage_' was not declared in this scope
/src/source/pointers.cpp:392:16: error: variable or field 'flipY' declared void
     void flipY(SImage_ img);
                ^
/src/source/pointers.cpp:392:16: error: 'SImage_' was not declared in this scope
/src/source/pointers.cpp:393:5: error: 'SImage_' does not name a type
     SImage_ transposed(SImage_ img);
     ^
/src/source/pointers.cpp:394:17: error: variable or field 'scroll' declared void
     void scroll(SImage_ img, int dx, int dy);
                 ^
/src/source/pointers.cpp:394:17: error: 'SImage_' was not declared in this scope
/src/source/pointers.cpp:394:30: error: expected primary-expression before 'int'
     void scroll(SImage_ img, int dx, int dy);
                              ^
/src/source/pointers.cpp:394:38: error: expected primary-expression before 'int'
     void scroll(SImage_ img, int dx, int dy);
                                      ^
/src/source/pointers.cpp:395:5: error: 'SImage_' does not name a type
     SImage_ doubledX(SImage_ img);
     ^
/src/source/pointers.cpp:396:5: error: 'SImage_' does not name a type
     SImage_ doubledY(SImage_ img);
     ^
/src/source/pointers.cpp:397:18: error: variable or field 'replace' declared void
     void replace(SImage_ img, int from, int to);
                  ^
/src/source/pointers.cpp:397:18: error: 'SImage_' was not declared in this scope
/src/source/pointers.cpp:397:31: error: expected primary-expression before 'int'
     void replace(SImage_ img, int from, int to);
                               ^
/src/source/pointers.cpp:397:41: error: expected primary-expression before 'int'
     void replace(SImage_ img, int from, int to);
                                         ^
/src/source/pointers.cpp:398:5: error: 'SImage_' does not name a type
     SImage_ doubled(SImage_ img);
     ^
/src/source/pointers.cpp:399:20: error: variable or field 'drawImage' declared void
     void drawImage(SImage_ img, SImage_ from, int x, int y);
                    ^
/src/source/pointers.cpp:399:20: error: 'SImage_' was not declared in this scope
/src/source/pointers.cpp:399:33: error: 'SImage_' was not declared in this scope
     void drawImage(SImage_ img, SImage_ from, int x, int y);
                                 ^
/src/source/pointers.cpp:399:47: error: expected primary-expression before 'int'
     void drawImage(SImage_ img, SImage_ from, int x, int y);
                                               ^
/src/source/pointers.cpp:399:54: error: expected primary-expression before 'int'
     void drawImage(SImage_ img, SImage_ from, int x, int y);
                                                      ^
/src/source/pointers.cpp:400:31: error: variable or field 'drawTransparentImage' declared void    
     void drawTransparentImage(SImage_ img, SImage_ from, int x, int y);
                               ^
/src/source/pointers.cpp:400:31: error: 'SImage_' was not declared in this scope
/src/source/pointers.cpp:400:44: error: 'SImage_' was not declared in this scope
     void drawTransparentImage(SImage_ img, SImage_ from, int x, int y);
                                            ^
/src/source/pointers.cpp:400:58: error: expected primary-expression before 'int'
     void drawTransparentImage(SImage_ img, SImage_ from, int x, int y);
                                                          ^
/src/source/pointers.cpp:400:65: error: expected primary-expression before 'int'
     void drawTransparentImage(SImage_ img, SImage_ from, int x, int y);
                                                                 ^
/src/source/pointers.cpp:401:23: error: 'SImage_' was not declared in this scope
     bool overlapsWith(SImage_ img, SImage_ other, int x, int y);
                       ^
/src/source/pointers.cpp:401:36: error: 'SImage_' was not declared in this scope
     bool overlapsWith(SImage_ img, SImage_ other, int x, int y);
                                    ^
/src/source/pointers.cpp:401:51: error: expected primary-expression before 'int'
     bool overlapsWith(SImage_ img, SImage_ other, int x, int y);
                                                   ^
/src/source/pointers.cpp:401:58: error: expected primary-expression before 'int'
     bool overlapsWith(SImage_ img, SImage_ other, int x, int y);
                                                          ^
/src/source/pointers.cpp:401:63: error: expression list treated as compound expression in initializer [-fpermissive]
     bool overlapsWith(SImage_ img, SImage_ other, int x, int y);
                                                               ^
/src/source/pointers.cpp:402:20: error: variable or field '_drawIcon' declared void
     void _drawIcon(SImage_ img, Buffer icon, int xy, int c);
                    ^
/src/source/pointers.cpp:402:20: error: 'SImage_' was not declared in this scope
/src/source/pointers.cpp:402:40: error: expected primary-expression before 'icon'
     void _drawIcon(SImage_ img, Buffer icon, int xy, int c);
                                        ^
/src/source/pointers.cpp:402:46: error: expected primary-expression before 'int'
     void _drawIcon(SImage_ img, Buffer icon, int xy, int c);
                                              ^
/src/source/pointers.cpp:402:54: error: expected primary-expression before 'int'
     void _drawIcon(SImage_ img, Buffer icon, int xy, int c);
                                                      ^
/src/source/pointers.cpp:403:20: error: variable or field '_drawLine' declared void
     void _drawLine(SImage_ img, int xy, int wh, int c);
                    ^
/src/source/pointers.cpp:403:20: error: 'SImage_' was not declared in this scope
/src/source/pointers.cpp:403:33: error: expected primary-expression before 'int'
     void _drawLine(SImage_ img, int xy, int wh, int c);
                                 ^
/src/source/pointers.cpp:403:41: error: expected primary-expression before 'int'
     void _drawLine(SImage_ img, int xy, int wh, int c);
                                         ^
/src/source/pointers.cpp:403:49: error: expected primary-expression before 'int'
     void _drawLine(SImage_ img, int xy, int wh, int c);
                                                 ^
/src/source/pointers.cpp:404:19: error: variable or field '_blitRow' declared void
     void _blitRow(SImage_ img, int xy, SImage_ from, int xh);
                   ^
/src/source/pointers.cpp:404:19: error: 'SImage_' was not declared in this scope
/src/source/pointers.cpp:404:32: error: expected primary-expression before 'int'
     void _blitRow(SImage_ img, int xy, SImage_ from, int xh);
                                ^
/src/source/pointers.cpp:404:40: error: 'SImage_' was not declared in this scope
     void _blitRow(SImage_ img, int xy, SImage_ from, int xh);
                                        ^
/src/source/pointers.cpp:404:54: error: expected primary-expression before 'int'
     void _blitRow(SImage_ img, int xy, SImage_ from, int xh);
                                                      ^
/src/source/pointers.cpp:405:16: error: 'SImage_' was not declared in this scope
     bool _blit(SImage_ img, SImage_ src, pxt::RefCollection *args);
                ^
/src/source/pointers.cpp:405:29: error: 'SImage_' was not declared in this scope
     bool _blit(SImage_ img, SImage_ src, pxt::RefCollection *args);
                             ^
/src/source/pointers.cpp:405:61: error: expected primary-expression before '*' token
     bool _blit(SImage_ img, SImage_ src, pxt::RefCollection *args);
                                                             ^
/src/source/pointers.cpp:405:62: error: 'args' was not declared in this scope
     bool _blit(SImage_ img, SImage_ src, pxt::RefCollection *args);
                                                              ^
/src/source/pointers.cpp:405:66: error: expression list treated as compound expression in initializer [-fpermissive]
     bool _blit(SImage_ img, SImage_ src, pxt::RefCollection *args);
                                                                  ^
/src/source/pointers.cpp:406:22: error: variable or field '_fillCircle' declared void
     void _fillCircle(SImage_ img, int cxy, int r, int c);
                      ^
/src/source/pointers.cpp:406:22: error: 'SImage_' was not declared in this scope
/src/source/pointers.cpp:406:35: error: expected primary-expression before 'int'
     void _fillCircle(SImage_ img, int cxy, int r, int c);
                                   ^
/src/source/pointers.cpp:406:44: error: expected primary-expression before 'int'
     void _fillCircle(SImage_ img, int cxy, int r, int c);
                                            ^
/src/source/pointers.cpp:406:51: error: expected primary-expression before 'int'
     void _fillCircle(SImage_ img, int cxy, int r, int c);
                                                   ^
/src/source/pointers.cpp:407:24: error: variable or field '_fillTriangle' declared void
     void _fillTriangle(SImage_ img, pxt::RefCollection *args);
                        ^
/src/source/pointers.cpp:407:24: error: 'SImage_' was not declared in this scope
/src/source/pointers.cpp:407:56: error: expected primary-expression before '*' token
     void _fillTriangle(SImage_ img, pxt::RefCollection *args);
                                                        ^
/src/source/pointers.cpp:407:57: error: 'args' was not declared in this scope
     void _fillTriangle(SImage_ img, pxt::RefCollection *args);
                                                         ^
/src/source/pointers.cpp:408:24: error: variable or field '_fillPolygon4' declared void
     void _fillPolygon4(SImage_ img, pxt::RefCollection *args);
                        ^
/src/source/pointers.cpp:408:24: error: 'SImage_' was not declared in this scope
/src/source/pointers.cpp:408:56: error: expected primary-expression before '*' token
     void _fillPolygon4(SImage_ img, pxt::RefCollection *args);
                                                        ^
/src/source/pointers.cpp:408:57: error: 'args' was not declared in this scope
     void _fillPolygon4(SImage_ img, pxt::RefCollection *args);
                                                         ^
/src/source/pointers.cpp:411:5: error: 'SImage_' does not name a type
     SImage_ create(int width, int height);
     ^
/src/source/pointers.cpp:412:5: error: 'SImage_' does not name a type
     SImage_ ofBuffer(Buffer buf);
     ^
/src/source/pointers.cpp:741:18: error: 'updateScreenStatusBar' is not a member of 'pxt'
 (uint32_t)(void*)::pxt::updateScreenStatusBar,
                  ^
/src/source/pointers.cpp:742:18: error: 'updateScreen' is not a member of 'pxt'
 (uint32_t)(void*)::pxt::updateScreen,
                  ^
/src/source/pointers.cpp:749:18: error: 'copyFrom' is not a member of 'SImageMethods'
 (uint32_t)(void*)::SImageMethods::copyFrom,
                  ^
/src/source/pointers.cpp:750:18: error: 'setPixel' is not a member of 'SImageMethods'
 (uint32_t)(void*)::SImageMethods::setPixel,
                  ^
/src/source/pointers.cpp:750:18: note: suggested alternative:
/src/source/pointers.cpp:144:10: note:   'ImageMethods::setPixel'
     void setPixel(Image i, int x, int y, bool value);
          ^
/src/source/pointers.cpp:752:18: error: 'fill' is not a member of 'SImageMethods'
 (uint32_t)(void*)::SImageMethods::fill,
                  ^
/src/source/pointers.cpp:752:18: note: suggested alternatives:
In file included from /opt/gcc-arm-none-eabi-5_4-2016q3/arm-none-eabi/include/c++/5.4.1/algorithm:61:0,
                 from /src/yotta_modules/ble/ble/BLEProtocol.h:22,
                 from /src/yotta_modules/ble/ble/Gap.h:20,
                 from /src/yotta_modules/ble/ble/BLE.h:21,
                 from /src/yotta_modules/microbit-dal/inc/bluetooth/MicroBitBLEManager.h:42,      
                 from /src/yotta_modules/microbit/inc/MicroBit.h:64,
                 from /src/source/pxtcore.h:4,
                 from /src/source/pxtbase.h:59,
                 from /src/source/pxt.h:8,
                 from /src/source/pointers.cpp:1:
/opt/gcc-arm-none-eabi-5_4-2016q3/arm-none-eabi/include/c++/5.4.1/bits/stl_algobase.h:740:5: note:   'std::fill'
     fill(_ForwardIterator __first, _ForwardIterator __last, const _Tp& __value)
     ^
/opt/gcc-arm-none-eabi-5_4-2016q3/arm-none-eabi/include/c++/5.4.1/bits/stl_algobase.h:740:5: note:   'std::fill'
/src/source/pointers.cpp:296:10: note:   'BufferMethods::fill'
     void fill(Buffer buf, int value, int offset = 0, int length = -1);
          ^
/src/source/pointers.cpp:753:18: error: 'getRows' is not a member of 'SImageMethods'
 (uint32_t)(void*)::SImageMethods::getRows,
                  ^
/src/source/pointers.cpp:754:18: error: 'setRows' is not a member of 'SImageMethods'
 (uint32_t)(void*)::SImageMethods::setRows,
                  ^
/src/source/pointers.cpp:755:18: error: '_fillRect' is not a member of 'SImageMethods'
 (uint32_t)(void*)::SImageMethods::_fillRect,
                  ^
/src/source/pointers.cpp:756:18: error: '_mapRect' is not a member of 'SImageMethods'
 (uint32_t)(void*)::SImageMethods::_mapRect,
                  ^
/src/source/pointers.cpp:758:18: error: 'clone' is not a member of 'SImageMethods'
 (uint32_t)(void*)::SImageMethods::clone,
                  ^
/src/source/pointers.cpp:759:18: error: 'flipX' is not a member of 'SImageMethods'
 (uint32_t)(void*)::SImageMethods::flipX,
                  ^
/src/source/pointers.cpp:760:18: error: 'flipY' is not a member of 'SImageMethods'
 (uint32_t)(void*)::SImageMethods::flipY,
                  ^
/src/source/pointers.cpp:761:18: error: 'transposed' is not a member of 'SImageMethods'
 (uint32_t)(void*)::SImageMethods::transposed,
                  ^
/src/source/pointers.cpp:762:18: error: 'scroll' is not a member of 'SImageMethods'
 (uint32_t)(void*)::SImageMethods::scroll,
                  ^
/src/source/pointers.cpp:763:18: error: 'doubledX' is not a member of 'SImageMethods'
 (uint32_t)(void*)::SImageMethods::doubledX,
                  ^
/src/source/pointers.cpp:764:18: error: 'doubledY' is not a member of 'SImageMethods'
 (uint32_t)(void*)::SImageMethods::doubledY,
                  ^
/src/source/pointers.cpp:765:18: error: 'replace' is not a member of 'SImageMethods'
 (uint32_t)(void*)::SImageMethods::replace,
                  ^
/src/source/pointers.cpp:765:18: note: suggested alternatives:
In file included from /opt/gcc-arm-none-eabi-5_4-2016q3/arm-none-eabi/include/c++/5.4.1/algorithm:62:0,
                 from /src/yotta_modules/ble/ble/BLEProtocol.h:22,
                 from /src/yotta_modules/ble/ble/Gap.h:20,
                 from /src/yotta_modules/ble/ble/BLE.h:21,
                 from /src/yotta_modules/microbit-dal/inc/bluetooth/MicroBitBLEManager.h:42,      
                 from /src/yotta_modules/microbit/inc/MicroBit.h:64,
                 from /src/source/pxtcore.h:4,
                 from /src/source/pxtbase.h:59,
                 from /src/source/pxt.h:8,
                 from /src/source/pointers.cpp:1:
/opt/gcc-arm-none-eabi-5_4-2016q3/arm-none-eabi/include/c++/5.4.1/bits/stl_algo.h:4233:5: note:   'std::replace'
     replace(_ForwardIterator __first, _ForwardIterator __last,
     ^
/opt/gcc-arm-none-eabi-5_4-2016q3/arm-none-eabi/include/c++/5.4.1/bits/stl_algo.h:4233:5: note:   'std::replace'
/src/source/pointers.cpp:766:18: error: 'doubled' is not a member of 'SImageMethods'
 (uint32_t)(void*)::SImageMethods::doubled,
                  ^
/src/source/pointers.cpp:767:18: error: 'drawImage' is not a member of 'SImageMethods'
 (uint32_t)(void*)::SImageMethods::drawImage,
                  ^
/src/source/pointers.cpp:768:18: error: 'drawTransparentImage' is not a member of 'SImageMethods' 
 (uint32_t)(void*)::SImageMethods::drawTransparentImage,
                  ^
/src/source/pointers.cpp:770:18: error: '_drawIcon' is not a member of 'SImageMethods'
 (uint32_t)(void*)::SImageMethods::_drawIcon,
                  ^
/src/source/pointers.cpp:771:18: error: '_drawLine' is not a member of 'SImageMethods'
 (uint32_t)(void*)::SImageMethods::_drawLine,
                  ^
/src/source/pointers.cpp:772:18: error: '_blitRow' is not a member of 'SImageMethods'
 (uint32_t)(void*)::SImageMethods::_blitRow,
                  ^
/src/source/pointers.cpp:774:18: error: '_fillCircle' is not a member of 'SImageMethods'
 (uint32_t)(void*)::SImageMethods::_fillCircle,
                  ^
/src/source/pointers.cpp:775:18: error: '_fillTriangle' is not a member of 'SImageMethods'        
 (uint32_t)(void*)::SImageMethods::_fillTriangle,
                  ^
/src/source/pointers.cpp:776:18: error: '_fillPolygon4' is not a member of 'SImageMethods'        
 (uint32_t)(void*)::SImageMethods::_fillPolygon4,
                  ^
/src/source/pointers.cpp:777:18: error: 'create' is not a member of 'image'
 (uint32_t)(void*)::image::create,
                  ^
/src/source/pointers.cpp:778:18: error: 'ofBuffer' is not a member of 'image'
 (uint32_t)(void*)::image::ofBuffer,
                  ^
[5/6] Building CXX object source/CMakeFiles/pxt-microbit-app.dir/src/source/st7735/panic.cpp.o
FAILED: source/CMakeFiles/pxt-microbit-app.dir/src/source/st7735/panic.cpp.o
/opt/gcc-arm-none-eabi-5_4-2016q3/bin/arm-none-eabi-g++ -DYOTTA_MODULE_NAME=pxt-microbit-app -Dpxt_microbit_app_EXPORTS -Igenerated/include -I/src -I/src/yotta_modules/microbit -I/src/yotta_modules/microbit-dal -I/src/yotta_modules/mbed-classic -I/src/yotta_modules/ble -I/src/yotta_modules/ble-nrf51822 -I/src/yotta_modules/nrf51-sdk -I/src/yotta_modules/microbit/inc -I/src/yotta_modules/microbit-dal/inc/core -I/src/yotta_modules/microbit-dal/inc/types -I/src/yotta_modules/microbit-dal/inc/drivers -I/src/yotta_modules/microbit-dal/inc/bluetooth -I/src/yotta_modules/microbit-dal/inc/platform -I/src/yotta_modules/mbed-classic/api -I/src/yotta_modules/mbed-classic/hal -I/src/yotta_modules/mbed-classic/targets/hal -I/src/yotta_modules/mbed-classic/targets/cmsis -I/src/yotta_modules/ble-nrf51822/source/btle -I/src/yotta_modules/ble-nrf51822/source/btle/custom -I/src/yotta_modules/ble-nrf51822/source/common -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/ble/ble_radio_notification -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/ble/ble_services/ble_dfu -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/ble/common -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/ble/device_manager -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/ble/device_manager/config -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/ble/peer_manager -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/device -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/drivers_nrf/ble_flash -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/drivers_nrf/delay -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/drivers_nrf/hal -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/drivers_nrf/pstorage -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/drivers_nrf/pstorage/config -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/libraries/bootloader_dfu -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/libraries/bootloader_dfu/hci_transport -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/libraries/crc16 -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/libraries/hci -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/libraries/scheduler -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/libraries/timer -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/libraries/util -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/libraries/fds -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/libraries/fstorage -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/libraries/experimental_section_vars -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/softdevice/common/softdevice_handler -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/softdevice/s130/headers -I/src/yotta_modules/nrf51-sdk/source/nordic_sdk/components/toolchain -I/src/yotta_modules/mbed-classic/targets -I/src/yotta_modules/mbed-classic/targets/cmsis/TARGET_NORDIC -I/src/yotta_modules/mbed-classic/targets/cmsis/TARGET_NORDIC/TARGET_MCU_NRF51822 -I/src/yotta_modules/mbed-classic/targets/cmsis/TARGET_NORDIC/TARGET_MCU_NRF51822/TOOLCHAIN_GCC_ARM -I/src/yotta_modules/mbed-classic/targets/cmsis/TARGET_NORDIC/TARGET_MCU_NRF51822/TOOLCHAIN_GCC_ARM/TARGET_MCU_NRF51_16K_S110 -I/src/yotta_modules/mbed-classic/targets/hal/TARGET_NORDIC -I/src/yotta_modules/mbed-classic/targets/hal/TARGET_NORDIC/TARGET_MCU_NRF51822 -I/src/yotta_modules/mbed-classic/targets/hal/TARGET_NORDIC/TARGET_MCU_NRF51822/Lib -I/src/yotta_modules/mbed-classic/targets/hal/TARGET_NORDIC/TARGET_MCU_NRF51822/Lib/nordic_sdk -I/src/yotta_modules/mbed-classic/targets/hal/TARGET_NORDIC/TARGET_MCU_NRF51822/Lib/nordic_sdk/components -I/src/yotta_modules/mbed-classic/targets/hal/TARGET_NORDIC/TARGET_MCU_NRF51822/Lib/nordic_sdk/components/libraries -I/src/yotta_modules/mbed-classic/targets/hal/TARGET_NORDIC/TARGET_MCU_NRF51822/Lib/nordic_sdk/components/libraries/crc16 -I/src/yotta_modules/mbed-classic/targets/hal/TARGET_NORDIC/TARGET_MCU_NRF51822/Lib/nordic_sdk/components/libraries/scheduler -I/src/yotta_modules/mbed-classic/targets/hal/TARGET_NORDIC/TARGET_MCU_NRF51822/Lib/nordic_sdk/components/libraries/util -I/src/yotta_modules/mbed-classic/targets/hal/TARGET_NORDIC/TARGET_MCU_NRF51822/Lib/s110_nrf51822_8_0_0 -I/src/yotta_modules/mbed-classic/targets/hal/TARGET_NORDIC/TARGET_MCU_NRF51822/Lib/s130_nrf51822_1_0_0 -I/src/yotta_modules/mbed-classic/targets/hal/TARGET_NORDIC/TARGET_MCU_NRF51822/TARGET_NRF51_MICROBIT -I/src/source -fno-exceptions -fno-unwind-tables -ffunction-sections -fdata-sections -Wall -Wextra -fno-rtti -fno-threadsafe-statics -mcpu=cortex-m0 -mthumb -D__thumb2__ -std=c++11 -fwrapv -Os -g -gdwarf-3 -DNDEBUG   -DTOOLCHAIN_GCC -DTOOLCHAIN_GCC_ARM -DMBED_OPERATORS -DNRF51 -DTARGET_NORDIC -DTARGET_M0 -D__MBED__=1 -DMCU_NORDIC_16K -DTARGET_NRF51_MICROBIT -DTARGET_MCU_NORDIC_16K -DTARGET_MCU_NRF51_16K_S110  -DTARGET_NRF_LFCLK_RC -DTARGET_MCU_NORDIC_16K -D__CORTEX_M0 -DARM_MATH_CM0 -include "/src/build/bbc-microbit-classic-gcc/yotta_config.h" -MMD -MT source/CMakeFiles/pxt-microbit-app.dir/src/source/st7735/panic.cpp.o -MF source/CMakeFiles/pxt-microbit-app.dir/src/source/st7735/panic.cpp.o.d -o source/CMakeFiles/pxt-microbit-app.dir/src/source/st7735/panic.cpp.o -c /src/source/st7735/panic.cpp
/src/source/st7735/panic.cpp:53:5: error: 'Pin' does not name a type
     Pin *sck, *mosi, *dc, *cs;
     ^
/src/source/st7735/panic.cpp: In member function 'void _pxt_panic::ST7735::sendBytes(uint8_t*, uint32_t)':
/src/source/st7735/panic.cpp:110:9: error: 'mosi' was not declared in this scope
         mosi->setDigitalValue((b & mask) ? 1 : 0);
         ^
/src/source/st7735/panic.cpp:111:9: error: 'sck' was not declared in this scope
         sck->setDigitalValue(1);
         ^
/src/source/st7735/panic.cpp: In member function 'void _pxt_panic::ST7735::fill(int, int)':       
/src/source/st7735/panic.cpp:121:5: error: 'dc' was not declared in this scope
     dc->setDigitalValue(1);
     ^
/src/source/st7735/panic.cpp:122:9: error: 'cs' was not declared in this scope
     if (cs)
         ^
/src/source/st7735/panic.cpp:134:9: error: 'cs' was not declared in this scope
     if (cs)
         ^
/src/source/st7735/panic.cpp: In member function 'void _pxt_panic::ST7735::sendCmd(uint8_t*, int)':
/src/source/st7735/panic.cpp:140:5: error: 'dc' was not declared in this scope
     dc->setDigitalValue(0);
     ^
/src/source/st7735/panic.cpp:141:9: error: 'cs' was not declared in this scope
     if (cs)
         ^
/src/source/st7735/panic.cpp:149:9: error: 'cs' was not declared in this scope
     if (cs)
         ^
/src/source/st7735/panic.cpp: In function 'void _pxt_panic::busy_wait_us(int)':
/src/source/st7735/panic.cpp:154:22: error: 'target_wait_us' was not declared in this scope       
     target_wait_us(ms);
                      ^
/src/source/st7735/panic.cpp: In member function 'void _pxt_panic::ST7735::init()':
/src/source/st7735/panic.cpp:191:5: error: 'mosi' was not declared in this scope
     mosi = LOOKUP_PIN(DISPLAY_MOSI);
     ^
/src/source/st7735/panic.cpp:191:23: error: 'DISPLAY_MOSI' was not declared in this scope
     mosi = LOOKUP_PIN(DISPLAY_MOSI);
                       ^
/src/source/st7735/panic.cpp:191:35: error: 'LOOKUP_PIN' was not declared in this scope
     mosi = LOOKUP_PIN(DISPLAY_MOSI);
                                   ^
/src/source/st7735/panic.cpp:192:5: error: 'sck' was not declared in this scope
     sck = LOOKUP_PIN(DISPLAY_SCK);
     ^
/src/source/st7735/panic.cpp:192:22: error: 'DISPLAY_SCK' was not declared in this scope
     sck = LOOKUP_PIN(DISPLAY_SCK);
                      ^
/src/source/st7735/panic.cpp:193:5: error: 'cs' was not declared in this scope
     cs = LOOKUP_PIN(DISPLAY_CS);
     ^
/src/source/st7735/panic.cpp:193:21: error: 'DISPLAY_CS' was not declared in this scope
     cs = LOOKUP_PIN(DISPLAY_CS);
                     ^
/src/source/st7735/panic.cpp:194:5: error: 'dc' was not declared in this scope
     dc = LOOKUP_PIN(DISPLAY_DC);
     ^
/src/source/st7735/panic.cpp:194:21: error: 'DISPLAY_DC' was not declared in this scope
     dc = LOOKUP_PIN(DISPLAY_DC);
                     ^
/src/source/st7735/panic.cpp:195:26: error: 'DISPLAY_BL' was not declared in this scope
     auto bl = LOOKUP_PIN(DISPLAY_BL);
                          ^
/src/source/st7735/panic.cpp:196:27: error: 'DISPLAY_RST' was not declared in this scope
     auto rst = LOOKUP_PIN(DISPLAY_RST);
                           ^
/src/source/st7735/panic.cpp: In function 'void _pxt_panic::drawPanic(int)':
/src/source/st7735/panic.cpp:248:21: error: 'DISPLAY_MOSI' was not declared in this scope
     if (!LOOKUP_PIN(DISPLAY_MOSI))
                     ^
/src/source/st7735/panic.cpp:248:33: error: 'LOOKUP_PIN' was not declared in this scope
     if (!LOOKUP_PIN(DISPLAY_MOSI))
                                 ^
/src/source/st7735/panic.cpp: In function 'void _pxt_panic::target_panic(int)':
/src/source/st7735/panic.cpp:272:24: error: 'target_disable_irq' was not declared in this scope   
     target_disable_irq(); // make sure they stay disabled in DMESG()
                        ^
/src/source/st7735/panic.cpp:293:27: error: 'LED' was not declared in this scope
     auto led = LOOKUP_PIN(LED);
                           ^
/src/source/st7735/panic.cpp:293:30: error: 'LOOKUP_PIN' was not declared in this scope
     auto led = LOOKUP_PIN(LED);
                              ^
ninja: build stopped: subcommand failed.
error: command ['ninja'] failed

***
*** Build failed: target build failed: Exit code: 1 from cd built/dockeryt; docker run --rm -v C:\github\pxt\pxt-microbit\libs\blocksprj/built/dockeryt/:/src -w /src -u build tball_yotta yotta build
Error: Exit code: 1 from cd built/dockeryt; docker run --rm -v C:\github\pxt\pxt-microbit\libs\blocksprj/built/dockeryt/:/src -w /src -u build tball_yotta yotta build
    at ChildProcess.<anonymous> (C:\github\pxt\pxt-microbit\node_modules\pxt-core\built\nodeutil.js:78:24)
    at ChildProcess.emit (node:events:514:28)
    at maybeClose (node:internal/child_process:1105:16)
    at ChildProcess._handle.onexit (node:internal/child_process:305:5)
***

Starting server in C:\github\pxt\pxt-microbit
With pxt core at C:\github\pxt\pxt-microbit\node_modules\pxt-core
starting local ws server at 3233...
---------------------------------------------
